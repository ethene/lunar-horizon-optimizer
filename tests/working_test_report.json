{
  "timestamp": "2025-07-08T23:44:59.724295",
  "summary": {
    "total_suites": 2,
    "total_tests": 53,
    "total_passed": 44,
    "total_failed": 0,
    "total_skipped": 9,
    "pass_rate": 0.8301886792452831,
    "total_time": 9.77639889717102,
    "all_passed": false
  },
  "results": {
    "Comprehensive Real Functionality Tests": {
      "success": false,
      "return_code": 1,
      "execution_time": 7.121977806091309,
      "total_tests": 15,
      "passed": 15,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "output": "============================= test session starts ==============================\nplatform darwin -- Python 3.12.2, pytest-8.4.1, pluggy-1.6.0 -- /opt/anaconda3/envs/py312/bin/python\ncachedir: .pytest_cache\nrootdir: /Users/dmitrystakhin/Library/CloudStorage/Dropbox/work/Lunar Horizon Optimizer\nconfigfile: pyproject.toml\nplugins: cov-6.2.1\ncollecting ... collected 15 items\n\ntests/test_final_functionality.py::TestPyKEPRealFunctionality::test_lambert_problem_realistic_transfer PASSED [  6%]\ntests/test_final_functionality.py::TestPyKEPRealFunctionality::test_planet_ephemeris_earth PASSED [ 13%]\ntests/test_final_functionality.py::TestPyKEPRealFunctionality::test_orbital_elements_conversion PASSED [ 20%]\ntests/test_final_functionality.py::TestPyKEPRealFunctionality::test_mu_constants PASSED [ 26%]\ntests/test_final_functionality.py::TestPyGMORealFunctionality::test_single_objective_optimization PASSED [ 33%]\ntests/test_final_functionality.py::TestPyGMORealFunctionality::test_multi_objective_optimization_realistic PASSED [ 40%]\ntests/test_final_functionality.py::TestPyGMORealFunctionality::test_algorithm_convergence PASSED [ 46%]\ntests/test_final_functionality.py::TestConfigurationRealFunctionality::test_cost_factors_with_parameters PASSED [ 53%]\ntests/test_final_functionality.py::TestConfigurationRealFunctionality::test_cost_factors_edge_cases PASSED [ 60%]\ntests/test_final_functionality.py::TestEconomicAnalysisRealFunctionality::test_real_npv_calculation PASSED [ 66%]\ntests/test_final_functionality.py::TestEconomicAnalysisRealFunctionality::test_real_irr_calculation_corrected PASSED [ 73%]\ntests/test_final_functionality.py::TestEconomicAnalysisRealFunctionality::test_real_mission_cost_estimation PASSED [ 80%]\ntests/test_final_functionality.py::TestIntegrationRealFunctionality::test_real_trajectory_optimization_integration_improved PASSED [ 86%]\ntests/test_final_functionality.py::TestIntegrationRealFunctionality::test_real_simplified_mission_analysis PASSED [ 93%]\ntests/test_final_functionality.py::test_environment_setup PASSED         [100%]\nERROR: Coverage failure: total of 2 is less than fail-under=80\n\n\n================================ tests coverage ================================\n_______________ coverage: platform darwin, python 3.12.2-final-0 _______________\n\nName                                                 Stmts   Miss Branch BrPart  Cover   Missing\n------------------------------------------------------------------------------------------------\nsrc/cli.py                                             145    145     28      0     0%   14-351\nsrc/config/costs.py                                      7      0      0      0   100%\nsrc/config/enums.py                                      9      0      0      0   100%\nsrc/config/isru.py                                      30     11      8      0    50%   86-88, 99-110\nsrc/config/loader.py                                    63     44     12      0    25%   32, 46-67, 78-81, 92-94, 108-117, 131-148, 157-179\nsrc/config/management/config_manager.py                 48     29      8      0    34%   42-44, 53, 69-71, 84-87, 105-107, 121, 140-152, 162, 172, 184-190\nsrc/config/management/file_operations.py                16      6      0      0    62%   24, 42, 57, 69-70, 78\nsrc/config/management/template_manager.py               30     19      4      0    32%   30, 50-56, 64, 78, 94-98, 114-122\nsrc/config/manager.py                                    6      6      0      0     0%   12-26\nsrc/config/mission_config.py                            10     10      0      0     0%   14-34\nsrc/config/models.py                                    26      3      2      0    82%   87-92\nsrc/config/orbit.py                                     22      9      2      0    54%   60-65, 76, 87-93\nsrc/config/registry.py                                  56     39     12      0    25%   28-35, 40-96, 108-110, 124-126, 134, 148-156, 167-175, 188-195\nsrc/config/spacecraft.py                                18      8      4      0    45%   42-47, 61-66\nsrc/economics/cost_models.py                           172    172     48      0     0%   7-612\nsrc/economics/financial_models.py                      217    217     86      0     0%   7-539\nsrc/economics/isru_benefits.py                         151    151     16      0     0%   7-604\nsrc/economics/reporting.py                             271    271     98      0     0%   7-638\nsrc/economics/sensitivity_analysis.py                  191    191     58      0     0%   7-601\nsrc/lunar_horizon_optimizer.py                         286    286     54      0     0%   15-693\nsrc/optimization/cost_integration.py                    76     76      2      0     0%   7-353\nsrc/optimization/global_optimizer.py                   190    190     54      0     0%   7-528\nsrc/optimization/pareto_analysis.py                    153    153     40      0     0%   7-417\nsrc/trajectory/celestial_bodies.py                      83     83     12      0     0%   13-184\nsrc/trajectory/constants.py                             36     36      0      0     0%   31-117\nsrc/trajectory/defaults.py                              31     31      6      0     0%   7-92\nsrc/trajectory/earth_moon_trajectories.py              165    165     26      0     0%   7-573\nsrc/trajectory/elements.py                              31     31      6      0     0%   7-118\nsrc/trajectory/generator.py                             74     74     18      0     0%   32-223\nsrc/trajectory/lambert_solver.py                        53     53     26      0     0%   14-159\nsrc/trajectory/lunar_transfer.py                        95     95      6      0     0%   33-400\nsrc/trajectory/maneuver.py                              44     44     14      0     0%   7-108\nsrc/trajectory/models.py                                 5      5      0      0     0%   7-12\nsrc/trajectory/nbody_dynamics.py                       114    114     30      0     0%   7-339\nsrc/trajectory/nbody_integration.py                    295    295     70      0     0%   7-874\nsrc/trajectory/orbit_state.py                          108    108     34      0     0%   7-279\nsrc/trajectory/phase_optimization.py                   127    127     22      0     0%   7-286\nsrc/trajectory/propagator.py                            47     47      6      0     0%   24-153\nsrc/trajectory/target_state.py                          58     58      6      0     0%   7-139\nsrc/trajectory/trajectory_base.py                       74     74     22      0     0%   7-190\nsrc/trajectory/trajectory_optimization.py              155    155     62      0     0%   8-427\nsrc/trajectory/trajectory_physics.py                     6      6      0      0     0%   12-38\nsrc/trajectory/trajectory_validator.py                 101    101     50      0     0%   33-361\nsrc/trajectory/transfer_parameters.py                   34     34     12      0     0%   7-82\nsrc/trajectory/transfer_window_analysis.py             107    107     18      0     0%   8-322\nsrc/trajectory/validation/constraint_validation.py      57     57     20      0     0%   7-115\nsrc/trajectory/validation/physics_validation.py        102    102     22      0     0%   7-224\nsrc/trajectory/validation/vector_validation.py          56     56     22      0     0%   7-164\nsrc/trajectory/validator.py                              4      4      0      0     0%   9-21\nsrc/trajectory/validators.py                             5      5      0      0     0%   9-30\nsrc/visualization/dashboard.py                         207    207     40      0     0%   11-879\nsrc/visualization/economic_visualization.py            185    185     26      0     0%   12-889\nsrc/visualization/mission_visualization.py             221    221     80      0     0%   12-811\nsrc/visualization/optimization_visualization.py        262    262     92      0     0%   12-916\nsrc/visualization/trajectory_visualization.py          174    174     40      0     0%   12-619\n------------------------------------------------------------------------------------------------\nTOTAL                                                 5309   5152   1324      0     2%\nFAIL Required test coverage of 80% not reached. Total coverage: 2.37%\n======================== 15 passed, 2 warnings in 4.71s ========================\n",
      "stderr": ""
    },
    "Task 5: Economic Analysis (Detailed)": {
      "success": false,
      "return_code": 1,
      "execution_time": 2.654421091079712,
      "total_tests": 38,
      "passed": 29,
      "failed": 0,
      "skipped": 9,
      "errors": 0,
      "output": "============================= test session starts ==============================\nplatform darwin -- Python 3.12.2, pytest-8.4.1, pluggy-1.6.0 -- /opt/anaconda3/envs/py312/bin/python\ncachedir: .pytest_cache\nrootdir: /Users/dmitrystakhin/Library/CloudStorage/Dropbox/work/Lunar Horizon Optimizer\nconfigfile: pyproject.toml\nplugins: cov-6.2.1\ncollecting ... collected 38 items\n\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_financial_parameters_initialization PASSED [  2%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_cash_flow_model_initialization PASSED [  5%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_cash_flow_creation PASSED [  7%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_development_costs_addition PASSED [ 10%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_launch_costs_addition PASSED [ 13%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_operational_costs_addition PASSED [ 15%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_revenue_stream_addition PASSED [ 18%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_npv_calculation PASSED [ 21%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_irr_calculation PASSED [ 23%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_payback_period_calculation PASSED [ 26%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_roi_calculation PASSED [ 28%]\ntests/test_task_5_economic_analysis.py::TestCostModels::test_mission_cost_model_initialization PASSED [ 31%]\ntests/test_task_5_economic_analysis.py::TestCostModels::test_total_mission_cost_estimation PASSED [ 34%]\ntests/test_task_5_economic_analysis.py::TestCostModels::test_cost_scaling_factors PASSED [ 36%]\ntests/test_task_5_economic_analysis.py::TestCostModels::test_launch_cost_optimization PASSED [ 39%]\ntests/test_task_5_economic_analysis.py::TestCostModels::test_operational_cost_modeling SKIPPED [ 42%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_analyzer_initialization PASSED [ 44%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_resource_properties PASSED [ 47%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_isru_economic_analysis SKIPPED [ 50%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_isru_vs_earth_supply_comparison SKIPPED [ 52%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_resource_value_calculation SKIPPED [ 55%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_facility_scaling_analysis PASSED [ 57%]\ntests/test_task_5_economic_analysis.py::TestSensitivityAnalysis::test_analyzer_initialization PASSED [ 60%]\ntests/test_task_5_economic_analysis.py::TestSensitivityAnalysis::test_one_way_sensitivity_analysis SKIPPED [ 63%]\ntests/test_task_5_economic_analysis.py::TestSensitivityAnalysis::test_scenario_analysis SKIPPED [ 65%]\ntests/test_task_5_economic_analysis.py::TestSensitivityAnalysis::test_monte_carlo_simulation SKIPPED [ 68%]\ntests/test_task_5_economic_analysis.py::TestSensitivityAnalysis::test_tornado_diagram_data PASSED [ 71%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_reporter_initialization PASSED [ 73%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_financial_summary_creation PASSED [ 76%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_executive_summary_generation PASSED [ 78%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_json_export PASSED [ 81%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_csv_export PASSED [ 84%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_detailed_financial_report SKIPPED [ 86%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_comparative_analysis_report PASSED [ 89%]\ntests/test_task_5_economic_analysis.py::TestTask5Integration::test_end_to_end_economic_analysis SKIPPED [ 92%]\ntests/test_task_5_economic_analysis.py::TestTask5Integration::test_module_imports PASSED [ 94%]\ntests/test_task_5_economic_analysis.py::TestTask5Integration::test_cross_module_data_flow PASSED [ 97%]\ntests/test_task_5_economic_analysis.py::test_task5_configuration PASSED  [100%]\nERROR: Coverage failure: total of 11 is less than fail-under=80\n\n\n================================ tests coverage ================================\n_______________ coverage: platform darwin, python 3.12.2-final-0 _______________\n\nName                                                 Stmts   Miss Branch BrPart  Cover   Missing\n------------------------------------------------------------------------------------------------\nsrc/cli.py                                             145    145     28      0     0%   14-351\nsrc/config/costs.py                                      7      0      0      0   100%\nsrc/config/enums.py                                      9      0      0      0   100%\nsrc/config/isru.py                                      30     11      8      0    50%   86-88, 99-110\nsrc/config/loader.py                                    63     44     12      0    25%   32, 46-67, 78-81, 92-94, 108-117, 131-148, 157-179\nsrc/config/management/config_manager.py                 48     29      8      0    34%   42-44, 53, 69-71, 84-87, 105-107, 121, 140-152, 162, 172, 184-190\nsrc/config/management/file_operations.py                16      6      0      0    62%   24, 42, 57, 69-70, 78\nsrc/config/management/template_manager.py               30     19      4      0    32%   30, 50-56, 64, 78, 94-98, 114-122\nsrc/config/manager.py                                    6      6      0      0     0%   12-26\nsrc/config/mission_config.py                            10     10      0      0     0%   14-34\nsrc/config/models.py                                    26      3      2      0    82%   87-92\nsrc/config/orbit.py                                     22      9      2      0    54%   60-65, 76, 87-93\nsrc/config/registry.py                                  56     39     12      0    25%   28-35, 40-96, 108-110, 124-126, 134, 148-156, 167-175, 188-195\nsrc/config/spacecraft.py                                18      8      4      0    45%   42-47, 61-66\nsrc/economics/cost_models.py                           172     89     48      4    43%   31->exit, 167, 189-222, 295, 311-312, 348-405, 455-516, 527-603, 612\nsrc/economics/financial_models.py                      217     87     86     13    54%   28, 43, 45, 156, 164-170, 178-185, 216, 218->221, 246, 248->252, 283, 294, 307, 309->313, 324-325, 338-359, 365-383, 408, 425-430, 443-448, 459-483, 495-539\nsrc/economics/isru_benefits.py                         151     35     16      3    76%   122, 169, 358-428, 513-514, 576-604\nsrc/economics/reporting.py                             271    161     98      9    34%   59->exit, 170-204, 218-269, 294-323, 350, 356, 373-420, 441-443, 462, 467, 478, 480, 486-493, 497-503, 507-513, 517-522, 526-534, 538-545, 549-560, 566-594, 600-619, 632-638\nsrc/economics/sensitivity_analysis.py                  191    113     58     13    38%   52, 125-175, 192, 213-241, 259->262, 265, 273-332, 342-343, 346-347, 356, 370, 374, 378, 382, 388, 392-396, 400-404, 410-423, 446-479, 483-525, 534-561, 570-601\nsrc/lunar_horizon_optimizer.py                         286    286     54      0     0%   15-693\nsrc/optimization/cost_integration.py                    76     76      2      0     0%   7-353\nsrc/optimization/global_optimizer.py                   190    190     54      0     0%   7-528\nsrc/optimization/pareto_analysis.py                    153    153     40      0     0%   7-417\nsrc/trajectory/celestial_bodies.py                      83     83     12      0     0%   13-184\nsrc/trajectory/constants.py                             36     36      0      0     0%   31-117\nsrc/trajectory/defaults.py                              31     31      6      0     0%   7-92\nsrc/trajectory/earth_moon_trajectories.py              165    165     26      0     0%   7-573\nsrc/trajectory/elements.py                              31     31      6      0     0%   7-118\nsrc/trajectory/generator.py                             74     74     18      0     0%   32-223\nsrc/trajectory/lambert_solver.py                        53     53     26      0     0%   14-159\nsrc/trajectory/lunar_transfer.py                        95     95      6      0     0%   33-400\nsrc/trajectory/maneuver.py                              44     44     14      0     0%   7-108\nsrc/trajectory/models.py                                 5      5      0      0     0%   7-12\nsrc/trajectory/nbody_dynamics.py                       114    114     30      0     0%   7-339\nsrc/trajectory/nbody_integration.py                    295    295     70      0     0%   7-874\nsrc/trajectory/orbit_state.py                          108    108     34      0     0%   7-279\nsrc/trajectory/phase_optimization.py                   127    127     22      0     0%   7-286\nsrc/trajectory/propagator.py                            47     47      6      0     0%   24-153\nsrc/trajectory/target_state.py                          58     58      6      0     0%   7-139\nsrc/trajectory/trajectory_base.py                       74     74     22      0     0%   7-190\nsrc/trajectory/trajectory_optimization.py              155    155     62      0     0%   8-427\nsrc/trajectory/trajectory_physics.py                     6      6      0      0     0%   12-38\nsrc/trajectory/trajectory_validator.py                 101    101     50      0     0%   33-361\nsrc/trajectory/transfer_parameters.py                   34     34     12      0     0%   7-82\nsrc/trajectory/transfer_window_analysis.py             107    107     18      0     0%   8-322\nsrc/trajectory/validation/constraint_validation.py      57     57     20      0     0%   7-115\nsrc/trajectory/validation/physics_validation.py        102    102     22      0     0%   7-224\nsrc/trajectory/validation/vector_validation.py          56     56     22      0     0%   7-164\nsrc/trajectory/validator.py                              4      4      0      0     0%   9-21\nsrc/trajectory/validators.py                             5      5      0      0     0%   9-30\nsrc/visualization/dashboard.py                         207    207     40      0     0%   11-879\nsrc/visualization/economic_visualization.py            185    185     26      0     0%   12-889\nsrc/visualization/mission_visualization.py             221    221     80      0     0%   12-811\nsrc/visualization/optimization_visualization.py        262    262     92      0     0%   12-916\nsrc/visualization/trajectory_visualization.py          174    174     40      0     0%   12-619\n------------------------------------------------------------------------------------------------\nTOTAL                                                 5309   4635   1324     42    11%\nFAIL Required test coverage of 80% not reached. Total coverage: 11.49%\n=========================== short test summary info ============================\nSKIPPED [1] tests/test_task_5_economic_analysis.py:382: Operational cost modeling test failed: 'OperationalCostModel' object has no attribute 'calculate_monthly_operations_cost'\nSKIPPED [1] tests/test_task_5_economic_analysis.py:457: ISRU economic analysis test failed: assert 'resource_production' in {'break_even_analysis': {'break_even_production_kg': 7000.0, 'monthly_break_even_rate': 770.8333333333334, 'payback_period_months': 9.08108108108108}, 'cost_analysis': {'capital_cost': 140000000.0, 'cost_per_kg': 4013.761467889908, 'operational_cost': 35000000.0, 'total_cost': 175000000.0}, 'financial_metrics': {'cash_flows': [-140000000.0, 750000.0000000001, 2083333.3333333335, 3416666.6666666665, 4750000.000000001, 6083333.333333334, ...], 'npv': 534809916.5770386, 'roi': 4.978571428571429, 'total_investment': 140000000.0, ...}, 'production_profile': {'monthly_production': [66.66666666666667, 133.33333333333334, 200.0, 266.6666666666667, 333.33333333333337, 400.0, ...], 'peak_production_rate': 1000, 'ramp_up_months': 12}, ...}\nSKIPPED [1] tests/test_task_5_economic_analysis.py:486: ISRU comparison test failed: ISRUBenefitAnalyzer.compare_isru_vs_earth_supply() got an unexpected keyword argument 'earth_supply_cost_per_kg'\nSKIPPED [1] tests/test_task_5_economic_analysis.py:504: Resource value calculation test failed: 'ISRUBenefitAnalyzer' object has no attribute 'calculate_resource_value'\nSKIPPED [1] tests/test_task_5_economic_analysis.py:592: One-way sensitivity analysis test failed: assert 'sensitivity_data' in {'base_npv': 100000000.0, 'base_parameters': {'cost_multiplier': 1.0, 'revenue_multiplier': 1.0}, 'ranking': ['revenue_multiplier', 'cost_multiplier'], 'variables': {'cost_multiplier': {'elasticity': np.float64(-2.0000000000000018), 'npv_range': np.float64(140000000.0), 'npv_values': [np.float64(140000000.0), np.float64(132631578.94736841), np.float64(125263157.89473683), np.float64(117894736.84210524), np.float64(110526315.78947368), np.float64(103157894.7368421), ...], 'parameter_range': 0.7, ...}, 'revenue_multiplier': {'elasticity': np.float64(3.0000000000000018), 'npv_range': np.float64(180000000.0), 'npv_values': [np.float64(10000000.0), np.float64(19473684.210526288), np.float64(28947368.421052605), np.float64(38421052.63157895), np.float64(47894736.84210527), np.float64(57368421.05263159), ...], 'parameter_range': 0.6000000000000001, ...}}}\nSKIPPED [1] tests/test_task_5_economic_analysis.py:625: Scenario analysis test failed: 'float' object is not iterable\nSKIPPED [1] tests/test_task_5_economic_analysis.py:674: Monte Carlo simulation test failed: Unsupported distribution type: triangular\nSKIPPED [1] tests/test_task_5_economic_analysis.py:846: Detailed financial report test failed: EconomicReporter.generate_detailed_financial_report() got an unexpected keyword argument 'include_risk_analysis'\nSKIPPED [1] tests/test_task_5_economic_analysis.py:945: End-to-end integration test failed: float division by zero\n================== 29 passed, 9 skipped, 2 warnings in 1.83s ===================\n",
      "stderr": ""
    }
  }
}