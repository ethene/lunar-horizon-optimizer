{
  "timestamp": "2025-07-10T06:43:36.697474",
  "summary": {
    "total_suites": 2,
    "total_tests": 53,
    "total_passed": 45,
    "total_failed": 0,
    "total_skipped": 8,
    "pass_rate": 0.8490566037735849,
    "total_time": 7.803768157958984,
    "all_passed": false
  },
  "results": {
    "Comprehensive Real Functionality Tests": {
      "success": false,
      "return_code": 1,
      "execution_time": 5.033915996551514,
      "total_tests": 15,
      "passed": 15,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "output": "============================= test session starts ==============================\nplatform darwin -- Python 3.12.2, pytest-8.4.1, pluggy-1.6.0 -- /opt/anaconda3/envs/py312/bin/python\ncachedir: .pytest_cache\nrootdir: /Users/dmitrystakhin/Library/CloudStorage/Dropbox/work/Lunar Horizon Optimizer\nconfigfile: pyproject.toml\nplugins: jaxtyping-0.3.2, cov-6.2.1\ncollecting ... collected 15 items\n\ntests/test_final_functionality.py::TestPyKEPRealFunctionality::test_lambert_problem_realistic_transfer PASSED [  6%]\ntests/test_final_functionality.py::TestPyKEPRealFunctionality::test_planet_ephemeris_earth PASSED [ 13%]\ntests/test_final_functionality.py::TestPyKEPRealFunctionality::test_orbital_elements_conversion PASSED [ 20%]\ntests/test_final_functionality.py::TestPyKEPRealFunctionality::test_mu_constants PASSED [ 26%]\ntests/test_final_functionality.py::TestPyGMORealFunctionality::test_single_objective_optimization PASSED [ 33%]\ntests/test_final_functionality.py::TestPyGMORealFunctionality::test_multi_objective_optimization_realistic PASSED [ 40%]\ntests/test_final_functionality.py::TestPyGMORealFunctionality::test_algorithm_convergence PASSED [ 46%]\ntests/test_final_functionality.py::TestConfigurationRealFunctionality::test_cost_factors_with_parameters PASSED [ 53%]\ntests/test_final_functionality.py::TestConfigurationRealFunctionality::test_cost_factors_edge_cases PASSED [ 60%]\ntests/test_final_functionality.py::TestEconomicAnalysisRealFunctionality::test_real_npv_calculation PASSED [ 66%]\ntests/test_final_functionality.py::TestEconomicAnalysisRealFunctionality::test_real_irr_calculation_corrected PASSED [ 73%]\ntests/test_final_functionality.py::TestEconomicAnalysisRealFunctionality::test_real_mission_cost_estimation PASSED [ 80%]\ntests/test_final_functionality.py::TestIntegrationRealFunctionality::test_real_trajectory_optimization_integration_improved PASSED [ 86%]\ntests/test_final_functionality.py::TestIntegrationRealFunctionality::test_real_simplified_mission_analysis PASSED [ 93%]\ntests/test_final_functionality.py::test_environment_setup PASSED         [100%]\nERROR: Coverage failure: total of 2 is less than fail-under=80\n\n\n================================ tests coverage ================================\n_______________ coverage: platform darwin, python 3.12.2-final-0 _______________\n\nName                                                 Stmts   Miss Branch BrPart  Cover   Missing\n------------------------------------------------------------------------------------------------\nsrc/cli.py                                             148    148     28      0     0%   14-369\nsrc/config/costs.py                                      6      0      0      0   100%\nsrc/config/enums.py                                      9      0      0      0   100%\nsrc/config/isru.py                                      33     14      8      0    46%   87-90, 102-115\nsrc/config/loader.py                                    68     51     12      0    21%   32, 48-76, 88-91, 103-105, 121-130, 145-166, 176-198\nsrc/config/management/config_manager.py                 49     31      8      0    32%   43-45, 55, 73-75, 89-93, 113-115, 131, 152-165, 176, 187, 200-206\nsrc/config/management/file_operations.py                15      6      0      0    60%   23, 43, 59, 72-73, 82\nsrc/config/management/template_manager.py               30     19      4      0    32%   31, 53-59, 68, 84, 102-106, 123-131\nsrc/config/manager.py                                    6      6      0      0     0%   12-26\nsrc/config/mission_config.py                            10     10      0      0     0%   14-34\nsrc/config/models.py                                    26      4      2      0    79%   88-96\nsrc/config/orbit.py                                     23     10      2      0    52%   61-69, 81, 93-99\nsrc/config/registry.py                                  59     45     12      0    20%   25-32, 37-93, 106-109, 125-128, 137, 152-161, 173-182, 196-205\nsrc/config/spacecraft.py                                20     10      4      0    42%   43-51, 67-73\nsrc/economics/cost_models.py                           171    171     48      0     0%   7-617\nsrc/economics/financial_models.py                      220    220     86      0     0%   7-557\nsrc/economics/isru_benefits.py                         150    150     16      0     0%   7-595\nsrc/economics/reporting.py                             269    269     98      0     0%   7-642\nsrc/economics/sensitivity_analysis.py                  195    195     58      0     0%   7-584\nsrc/lunar_horizon_optimizer.py                         283    283     54      0     0%   15-696\nsrc/optimization/cost_integration.py                    73     73      0      0     0%   7-366\nsrc/optimization/global_optimizer.py                   187    187     54      0     0%   7-537\nsrc/optimization/pareto_analysis.py                    157    157     40      0     0%   7-431\nsrc/trajectory/celestial_bodies.py                      80     80     12      0     0%   13-186\nsrc/trajectory/constants.py                             36     36      0      0     0%   31-120\nsrc/trajectory/defaults.py                              38     38      6      0     0%   7-111\nsrc/trajectory/earth_moon_trajectories.py              167    167     26      0     0%   7-588\nsrc/trajectory/elements.py                              28     28      4      0     0%   7-119\nsrc/trajectory/generator.py                             77     77     18      0     0%   32-227\nsrc/trajectory/lambert_solver.py                        64     64     26      0     0%   14-175\nsrc/trajectory/lunar_transfer.py                        92     92      4      0     0%   33-407\nsrc/trajectory/maneuver.py                              51     51     14      0     0%   7-124\nsrc/trajectory/models.py                                 5      5      0      0     0%   7-12\nsrc/trajectory/nbody_dynamics.py                       114    114     30      0     0%   7-345\nsrc/trajectory/nbody_integration.py                    303    303     72      0     0%   7-895\nsrc/trajectory/orbit_state.py                          117    117     34      0     0%   7-298\nsrc/trajectory/phase_optimization.py                   124    124     22      0     0%   7-289\nsrc/trajectory/propagator.py                            48     48      6      0     0%   24-161\nsrc/trajectory/target_state.py                          57     57      6      0     0%   7-142\nsrc/trajectory/trajectory_base.py                       80     80     22      0     0%   7-205\nsrc/trajectory/trajectory_optimization.py              153    153     62      0     0%   8-429\nsrc/trajectory/trajectory_physics.py                     6      6      0      0     0%   12-36\nsrc/trajectory/trajectory_validator.py                 122    122     50      0     0%   33-406\nsrc/trajectory/transfer_parameters.py                   40     40     12      0     0%   7-92\nsrc/trajectory/transfer_window_analysis.py             105    105     18      0     0%   8-328\nsrc/trajectory/validation/constraint_validation.py      64     64     20      0     0%   7-125\nsrc/trajectory/validation/physics_validation.py        101    101     22      0     0%   7-227\nsrc/trajectory/validation/vector_validation.py          62     62     22      0     0%   7-176\nsrc/trajectory/validator.py                              4      4      0      0     0%   9-21\nsrc/trajectory/validators.py                             5      5      0      0     0%   9-30\nsrc/visualization/dashboard.py                         191    191     40      0     0%   11-869\nsrc/visualization/economic_visualization.py            181    181     26      0     0%   12-891\nsrc/visualization/mission_visualization.py             219    219     86      0     0%   12-817\nsrc/visualization/optimization_visualization.py        260    260     92      0     0%   12-919\nsrc/visualization/trajectory_visualization.py          175    175     40      0     0%   12-630\n------------------------------------------------------------------------------------------------\nTOTAL                                                 5376   5228   1326      0     2%\nFAIL Required test coverage of 80% not reached. Total coverage: 2.21%\n======================== 15 passed, 4 warnings in 3.59s ========================\n",
      "stderr": ""
    },
    "Task 5: Economic Analysis (Detailed)": {
      "success": false,
      "return_code": 1,
      "execution_time": 2.7698521614074707,
      "total_tests": 38,
      "passed": 30,
      "failed": 0,
      "skipped": 8,
      "errors": 0,
      "output": "============================= test session starts ==============================\nplatform darwin -- Python 3.12.2, pytest-8.4.1, pluggy-1.6.0 -- /opt/anaconda3/envs/py312/bin/python\ncachedir: .pytest_cache\nrootdir: /Users/dmitrystakhin/Library/CloudStorage/Dropbox/work/Lunar Horizon Optimizer\nconfigfile: pyproject.toml\nplugins: jaxtyping-0.3.2, cov-6.2.1\ncollecting ... collected 38 items\n\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_financial_parameters_initialization PASSED [  2%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_cash_flow_model_initialization PASSED [  5%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_cash_flow_creation PASSED [  7%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_development_costs_addition PASSED [ 10%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_launch_costs_addition PASSED [ 13%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_operational_costs_addition PASSED [ 15%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_revenue_stream_addition PASSED [ 18%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_npv_calculation PASSED [ 21%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_irr_calculation PASSED [ 23%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_payback_period_calculation PASSED [ 26%]\ntests/test_task_5_economic_analysis.py::TestFinancialModels::test_roi_calculation PASSED [ 28%]\ntests/test_task_5_economic_analysis.py::TestCostModels::test_mission_cost_model_initialization PASSED [ 31%]\ntests/test_task_5_economic_analysis.py::TestCostModels::test_total_mission_cost_estimation PASSED [ 34%]\ntests/test_task_5_economic_analysis.py::TestCostModels::test_cost_scaling_factors PASSED [ 36%]\ntests/test_task_5_economic_analysis.py::TestCostModels::test_launch_cost_optimization PASSED [ 39%]\ntests/test_task_5_economic_analysis.py::TestCostModels::test_operational_cost_modeling SKIPPED [ 42%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_analyzer_initialization PASSED [ 44%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_resource_properties PASSED [ 47%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_isru_economic_analysis SKIPPED [ 50%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_isru_vs_earth_supply_comparison SKIPPED [ 52%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_resource_value_calculation SKIPPED [ 55%]\ntests/test_task_5_economic_analysis.py::TestISRUBenefits::test_facility_scaling_analysis PASSED [ 57%]\ntests/test_task_5_economic_analysis.py::TestSensitivityAnalysis::test_analyzer_initialization PASSED [ 60%]\ntests/test_task_5_economic_analysis.py::TestSensitivityAnalysis::test_one_way_sensitivity_analysis SKIPPED [ 63%]\ntests/test_task_5_economic_analysis.py::TestSensitivityAnalysis::test_scenario_analysis SKIPPED [ 65%]\ntests/test_task_5_economic_analysis.py::TestSensitivityAnalysis::test_monte_carlo_simulation SKIPPED [ 68%]\ntests/test_task_5_economic_analysis.py::TestSensitivityAnalysis::test_tornado_diagram_data PASSED [ 71%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_reporter_initialization PASSED [ 73%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_financial_summary_creation PASSED [ 76%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_executive_summary_generation PASSED [ 78%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_json_export PASSED [ 81%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_csv_export PASSED [ 84%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_detailed_financial_report SKIPPED [ 86%]\ntests/test_task_5_economic_analysis.py::TestEconomicReporting::test_comparative_analysis_report PASSED [ 89%]\ntests/test_task_5_economic_analysis.py::TestTask5Integration::test_end_to_end_economic_analysis PASSED [ 92%]\ntests/test_task_5_economic_analysis.py::TestTask5Integration::test_module_imports PASSED [ 94%]\ntests/test_task_5_economic_analysis.py::TestTask5Integration::test_cross_module_data_flow PASSED [ 97%]\ntests/test_task_5_economic_analysis.py::test_task5_configuration PASSED  [100%]\nERROR: Coverage failure: total of 11 is less than fail-under=80\n\n\n================================ tests coverage ================================\n_______________ coverage: platform darwin, python 3.12.2-final-0 _______________\n\nName                                                 Stmts   Miss Branch BrPart  Cover   Missing\n------------------------------------------------------------------------------------------------\nsrc/cli.py                                             148    148     28      0     0%   14-369\nsrc/config/costs.py                                      6      0      0      0   100%\nsrc/config/enums.py                                      9      0      0      0   100%\nsrc/config/isru.py                                      33     14      8      0    46%   87-90, 102-115\nsrc/config/loader.py                                    68     51     12      0    21%   32, 48-76, 88-91, 103-105, 121-130, 145-166, 176-198\nsrc/config/management/config_manager.py                 49     31      8      0    32%   43-45, 55, 73-75, 89-93, 113-115, 131, 152-165, 176, 187, 200-206\nsrc/config/management/file_operations.py                15      6      0      0    60%   23, 43, 59, 72-73, 82\nsrc/config/management/template_manager.py               30     19      4      0    32%   31, 53-59, 68, 84, 102-106, 123-131\nsrc/config/manager.py                                    6      6      0      0     0%   12-26\nsrc/config/mission_config.py                            10     10      0      0     0%   14-34\nsrc/config/models.py                                    26      4      2      0    79%   88-96\nsrc/config/orbit.py                                     23     10      2      0    52%   61-69, 81, 93-99\nsrc/config/registry.py                                  59     45     12      0    20%   25-32, 37-93, 106-109, 125-128, 137, 152-161, 173-182, 196-205\nsrc/config/spacecraft.py                                20     10      4      0    42%   43-51, 67-73\nsrc/economics/cost_models.py                           171     89     48      4    43%   33->exit, 169, 191-224, 297, 313-314, 351-408, 458-519, 531-607, 617\nsrc/economics/financial_models.py                      220     90     86     13    53%   30-31, 47-48, 50-51, 163, 172-178, 187-194, 226, 228->231, 257, 259->263, 294, 305, 319, 321->325, 336-337, 351-372, 378-396, 422, 440-445, 459-464, 476-500, 513-557\nsrc/economics/isru_benefits.py                         150     35     16      3    76%   122-123, 171-172, 363-432, 515-516, 578-595\nsrc/economics/reporting.py                             269    160     98      8    34%   59->exit, 171-205, 220-271, 297-326, 357, 375-422, 443-445, 464, 469, 481, 483, 489-496, 500-506, 510-516, 520-525, 529-537, 541-548, 552-563, 569-597, 603-622, 636-642\nsrc/economics/sensitivity_analysis.py                  195    116     58     13    38%   54-55, 129-180, 198-199, 220-248, 267->270, 273-274, 282-341, 351-352, 355-356, 365, 379, 383, 388-389, 393, 400, 404-408, 412-416, 422-435, 459-492, 496-538, 548, 584\nsrc/lunar_horizon_optimizer.py                         283    283     54      0     0%   15-696\nsrc/optimization/cost_integration.py                    73     73      0      0     0%   7-366\nsrc/optimization/global_optimizer.py                   187    187     54      0     0%   7-537\nsrc/optimization/pareto_analysis.py                    157    157     40      0     0%   7-431\nsrc/trajectory/celestial_bodies.py                      80     80     12      0     0%   13-186\nsrc/trajectory/constants.py                             36     36      0      0     0%   31-120\nsrc/trajectory/defaults.py                              38     38      6      0     0%   7-111\nsrc/trajectory/earth_moon_trajectories.py              167    167     26      0     0%   7-588\nsrc/trajectory/elements.py                              28     28      4      0     0%   7-119\nsrc/trajectory/generator.py                             77     77     18      0     0%   32-227\nsrc/trajectory/lambert_solver.py                        64     64     26      0     0%   14-175\nsrc/trajectory/lunar_transfer.py                        92     92      4      0     0%   33-407\nsrc/trajectory/maneuver.py                              51     51     14      0     0%   7-124\nsrc/trajectory/models.py                                 5      5      0      0     0%   7-12\nsrc/trajectory/nbody_dynamics.py                       114    114     30      0     0%   7-345\nsrc/trajectory/nbody_integration.py                    303    303     72      0     0%   7-895\nsrc/trajectory/orbit_state.py                          117    117     34      0     0%   7-298\nsrc/trajectory/phase_optimization.py                   124    124     22      0     0%   7-289\nsrc/trajectory/propagator.py                            48     48      6      0     0%   24-161\nsrc/trajectory/target_state.py                          57     57      6      0     0%   7-142\nsrc/trajectory/trajectory_base.py                       80     80     22      0     0%   7-205\nsrc/trajectory/trajectory_optimization.py              153    153     62      0     0%   8-429\nsrc/trajectory/trajectory_physics.py                     6      6      0      0     0%   12-36\nsrc/trajectory/trajectory_validator.py                 122    122     50      0     0%   33-406\nsrc/trajectory/transfer_parameters.py                   40     40     12      0     0%   7-92\nsrc/trajectory/transfer_window_analysis.py             105    105     18      0     0%   8-328\nsrc/trajectory/validation/constraint_validation.py      64     64     20      0     0%   7-125\nsrc/trajectory/validation/physics_validation.py        101    101     22      0     0%   7-227\nsrc/trajectory/validation/vector_validation.py          62     62     22      0     0%   7-176\nsrc/trajectory/validator.py                              4      4      0      0     0%   9-21\nsrc/trajectory/validators.py                             5      5      0      0     0%   9-30\nsrc/visualization/dashboard.py                         191    191     40      0     0%   11-869\nsrc/visualization/economic_visualization.py            181    181     26      0     0%   12-891\nsrc/visualization/mission_visualization.py             219    219     86      0     0%   12-817\nsrc/visualization/optimization_visualization.py        260    260     92      0     0%   12-919\nsrc/visualization/trajectory_visualization.py          175    175     40      0     0%   12-630\n------------------------------------------------------------------------------------------------\nTOTAL                                                 5376   4713   1326     41    11%\nFAIL Required test coverage of 80% not reached. Total coverage: 11.22%\n=========================== short test summary info ============================\nSKIPPED [1] tests/test_task_5_economic_analysis.py:381: Operational cost modeling test failed: 'OperationalCostModel' object has no attribute 'calculate_monthly_operations_cost'\nSKIPPED [1] tests/test_task_5_economic_analysis.py:456: ISRU economic analysis test failed: assert 'resource_production' in {'break_even_analysis': {'break_even_production_kg': 7000.0, 'monthly_break_even_rate': 770.8333333333334, 'payback_period_months': 9.08108108108108}, 'cost_analysis': {'capital_cost': 140000000.0, 'cost_per_kg': 4013.761467889908, 'operational_cost': 35000000.0, 'total_cost': 175000000.0}, 'financial_metrics': {'cash_flows': [-140000000.0, 750000.0000000001, 2083333.3333333335, 3416666.6666666665, 4750000.000000001, 6083333.333333334, ...], 'npv': 534809916.5770386, 'roi': 4.978571428571429, 'total_investment': 140000000.0, ...}, 'production_profile': {'monthly_production': [66.66666666666667, 133.33333333333334, 200.0, 266.6666666666667, 333.33333333333337, 400.0, ...], 'peak_production_rate': 1000, 'ramp_up_months': 12}, ...}\nSKIPPED [1] tests/test_task_5_economic_analysis.py:485: ISRU comparison test failed: ISRUBenefitAnalyzer.compare_isru_vs_earth_supply() got an unexpected keyword argument 'earth_supply_cost_per_kg'\nSKIPPED [1] tests/test_task_5_economic_analysis.py:503: Resource value calculation test failed: 'ISRUBenefitAnalyzer' object has no attribute 'calculate_resource_value'\nSKIPPED [1] tests/test_task_5_economic_analysis.py:591: One-way sensitivity analysis test failed: assert 'sensitivity_data' in {'base_npv': 100000000.0, 'base_parameters': {'cost_multiplier': 1.0, 'revenue_multiplier': 1.0}, 'ranking': ['revenue_multiplier', 'cost_multiplier'], 'variables': {'cost_multiplier': {'elasticity': -2.0000000000000018, 'npv_range': np.float64(140000000.0), 'npv_values': [np.float64(140000000.0), np.float64(132631578.94736841), np.float64(125263157.89473683), np.float64(117894736.84210524), np.float64(110526315.78947368), np.float64(103157894.7368421), ...], 'parameter_range': 0.7, ...}, 'revenue_multiplier': {'elasticity': 3.0000000000000018, 'npv_range': np.float64(180000000.0), 'npv_values': [np.float64(10000000.0), np.float64(19473684.210526288), np.float64(28947368.421052605), np.float64(38421052.63157895), np.float64(47894736.84210527), np.float64(57368421.05263159), ...], 'parameter_range': 0.6000000000000001, ...}}}\nSKIPPED [1] tests/test_task_5_economic_analysis.py:624: Scenario analysis test failed: 'float' object is not iterable\nSKIPPED [1] tests/test_task_5_economic_analysis.py:673: Monte Carlo simulation test failed: Unsupported distribution type: triangular\nSKIPPED [1] tests/test_task_5_economic_analysis.py:845: Detailed financial report test failed: EconomicReporter.generate_detailed_financial_report() got an unexpected keyword argument 'include_risk_analysis'\n================== 30 passed, 8 skipped, 4 warnings in 1.63s ===================\n",
      "stderr": ""
    }
  }
}